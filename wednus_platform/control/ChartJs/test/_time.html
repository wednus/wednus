<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>ChartJs Control - code sample</title>
<script type='text/javascript' src='../../../wednus.js'></script>
<script type='text/javascript'>
W.control('ChartJs');
</script>

<script type='text/javascript'>
		function randomColorFactor() {
			return Math.round(Math.random() * 255);
		}
		function newDate(days) {
			return moment().add(days, 'd').toDate();
		}

		function newDateString(days) {
			return moment().add(days, 'd').format();
		}
		function randomColor(opacity) {
			return 'rgba(' + randomColorFactor() + ',' + randomColorFactor() + ',' + randomColorFactor() + ',' + (opacity || '.3') + ')';
		}
		
var data = {
  labels: ["January", "February", "March", "April", "May", "June", "July"],
  animation: {
    duration: 10000
  },
  datasets: [{
  	label: "Dataset with string point data",
  	data: [{
  		x: newDateString(0),
  		y: 23
  	}, {
  		x: newDateString(2),
  		y: 12
  	}, {
  		x: newDateString(4),
  		y: 65
  	}, {
  		x: newDateString(5),
  		y: 34
  	}],
  	fill: false
  }, {
  	label: "Dataset with date object point data",
  	data: [{
  		x: newDate(0),
  		y: 55
  	}, {
  		x: newDate(2),
  		y: 2
  	}, {
  		x: newDate(4),
  		y: 3
  	}, {
  		x: newDate(5),
  		y: 4
  	}],
  	fill: false
  }]
};

$.each(data.datasets, function(i, dataset) {
	dataset.borderColor = randomColor(0.4);
	dataset.backgroundColor = randomColor(0.5);
	dataset.pointBorderColor = randomColor(0.7);
	dataset.pointBackgroundColor = randomColor(0.5);
	dataset.pointBorderWidth = 1;
});

var myChartJs = new W.ChartJs({
  wps: '60%,60%,xcenter:0,ycenter:0',
  wss: 'overflow:auto;',
  type: 'line',
  data: data,
  options: {
		responsive: true,
      title:{
          display:true,
          text:"Chart.js Time Point Data"
      },
		scales: {
			xAxes: [{
				type: "time",
				display: true,
				scaleLabel: {
					display: true,
					labelString: 'Date'
				}
			}],
			yAxes: [{
				display: true,
				scaleLabel: {
					display: true,
					labelString: 'value'
				}
			}]
		}
  },
  control: true
});

document.write('control name: '+ myChartJs.name);
</script>
</head>
<body>
</body>
</html>