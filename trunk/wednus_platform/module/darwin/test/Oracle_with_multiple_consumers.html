<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Test - Oracle.js</title>
<script type='text/javascript' src='../../../wednus.js'></script>
<script type='text/javascript'>
W.load('module/darwin', 'Oracle', 'module');
</script>

<script type='text/javascript'>
// custom World class def. (no '.body' element)
var AbstractWorld = function(delay){
  this.delay = delay;
  // Oracle's requirement: 'tick' method taking the generated periodic events
  var colors = 'silver,gray'.split(',');
  var toggle = 0;
  this.tick = function(){
    document.body.style.background = colors[toggle];
    if(toggle == 0){
      toggle = 1;
    }else toggle = 0;
  };
};

var absWorld = new AbstractWorld(300);
var oracle = new W.Oracle();
oracle.add(absWorld);


// custom World class def.
var World = function(color, delay){
  this.delay = delay;
  // Optional: 'body', the presentation layer
  this.body = document.createElement('div');
  this.body.style.background = color;
  // Oracle's requirement: 'tick' method taking the generated periodic events
  this.tick = function(){/* do nothing */};
};

// create worlds
var world1 = new World('red', 0);
var world2 = new World('orange', 10);
var world3 = new World('yellow', 20);
var world4 = new World('green', 30);
var world5 = new World('blue', 40);
var world6 = new World('navy', 50);
var world7 = new World('purple', 60);

oracle.add(world1);
oracle.add(world2);
oracle.add(world3);
oracle.add(world4);
oracle.add(world5);
oracle.add(world6);
oracle.add(world7);

oracle.showClock(true);
</script>
</head>
<body>
</body></html>