<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Wednus Darwin: World.js File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>World.js File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Wednus World class. 
<p>
This class defines the world with 2D matrix of objects (creatures). Performs followings:<ul>
<li>1. prepare the WPS basic elements (.core, .body)</li><li>2. prepare for Oracle class (.<a class="el" href="World_8js.html#f9c3e7ec357df13783459962704e0ebb" title="Oracle's requirement: 'tick' method taking the generated periodic events.">tick()</a> w/ internal delaying mechanism)</li><li>3. build/manage matrix (wall, insert, erase..)</li><li>4. manage creature ID</li><li>5. debugging elements (clock, grid)</li></ul>
<p>
creature object requires one method:<ul>
<li>.action - per each <a class="el" href="World_8js.html#f9c3e7ec357df13783459962704e0ebb" title="Oracle's requirement: 'tick' method taking the generated periodic events.">tick()</a>, the world runs this method of each creature included at once</li><li>.makeControl - true/false: assigns this creature controllable; one for each world</li></ul>
<p>
creature object requires one properties:<ul>
<li>.control - refer to detect whether the creature is controllable</li></ul>
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Sundew H. Shin </dd></dl>

<p>
Definition in file <a class="el" href="World_8js-source.html">World.js</a>.
<p>

<p>
<a href="World_8js-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">World class.  <a href="#25ce45b286d5c9e26546c965c1e3e879"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#b4e2d0db6ca8692e956bdf07827cd735">at</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return creature on the given coordination  <a href="#b4e2d0db6ca8692e956bdf07827cd735"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#25edac60dcf6efba0d82216d4c370157">erase</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">erase creature from the matrix  <a href="#25edac60dcf6efba0d82216d4c370157"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#f9c3e7ec357df13783459962704e0ebb">tick</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Oracle's requirement: 'tick' method taking the generated periodic events.  <a href="#f9c3e7ec357df13783459962704e0ebb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#95df163a8f5d1877147fb94735aa15d0">add</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">add creature into the world  <a href="#95df163a8f5d1877147fb94735aa15d0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#44b11db109f0eea6342f7f6a3e146951">set</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set the wall  <a href="#44b11db109f0eea6342f7f6a3e146951"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#5a36aa707c5c1ead6009232691e1d32d">background</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set background of the world  <a href="#5a36aa707c5c1ead6009232691e1d32d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#232ff057b66625090b8d415559006176">full</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">expand the .core to fit the .body area  <a href="#232ff057b66625090b8d415559006176"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#ca0fd1fd4f1728fd0cce5c9214702b59">showGrid</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">show grid  <a href="#ca0fd1fd4f1728fd0cce5c9214702b59"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="World_8js.html#0cd79a9d21e93a7b6779611ffc7bd5ee">fitToBackground</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">fit the .core to fit to the background image  <a href="#0cd79a9d21e93a7b6779611ffc7bd5ee"></a><br></td></tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="25ce45b286d5c9e26546c965c1e3e879"></a><!-- doxytag: member="World.js::World" ref="25ce45b286d5c9e26546c965c1e3e879" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
World class. 
<p>
This class implements a prototype of HTMLElement object containers. (world) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Object}</em>&nbsp;</td><td>args extend/override constructor w/ this passed args object </td></tr>
  </table>
</dl>
<dl compact><dt><b><a class="el" href="test.html#_test000021">Test:</a></b></dt><dd><a href="../../test/World.html">default construction</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000021">Test:</a></b></dt><dd><a href="../../test/World_with_WPS.html">World with WPS</a> </dd></dl>

<p>
Definition at line <a class="el" href="World_8js-source.html#l00030">30</a> of file <a class="el" href="World_8js-source.html">World.js</a>.
</div>
</div><p>
<a class="anchor" name="b4e2d0db6ca8692e956bdf07827cd735"></a><!-- doxytag: member="World.js::at" ref="b4e2d0db6ca8692e956bdf07827cd735" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#b4e2d0db6ca8692e956bdf07827cd735">at</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(row, col){
  var <span class="keywordtype">id</span> = <span class="keyword">this</span>.matrix[row][col];
  
  <span class="keywordflow">if</span>(<span class="keywordtype">id</span> == -1) <span class="keywordflow">return</span> <span class="keyword">false</span>;  
  <span class="keywordflow">if</span>(<span class="keywordtype">id</span> == -2) <span class="keywordflow">return</span> <span class="keyword">this</span>.wall;  
  var creature;
  <span class="keywordflow">for</span>(var i = 0; i &lt; <span class="keyword">this</span>.creatures.length; ++i){
    creature = <span class="keyword">this</span>.creatures[i];
    <span class="keywordflow">if</span>(creature.row == row &amp;&amp; creature.col == col)
    <span class="keywordflow">return</span> creature;
  }
  <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>return creature on the given coordination 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Number}</em>&nbsp;</td><td>row given row </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>{Number}</em>&nbsp;</td><td>col given col </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>{Creature} creature if there is a creature on the given coordinate; otherwise, false. </dd></dl>

<p>
Definition at line <a class="el" href="World_8js-source.html#l00090">90</a> of file <a class="el" href="World_8js-source.html">World.js</a>.
</div>
</div><p>
<a class="anchor" name="25edac60dcf6efba0d82216d4c370157"></a><!-- doxytag: member="World.js::erase" ref="25edac60dcf6efba0d82216d4c370157" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#25edac60dcf6efba0d82216d4c370157">erase</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(<span class="keywordtype">id</span>){
  var creature = <span class="keyword">this</span>.creatures[id];
  <span class="keyword">this</span>.matrix[creature.row][creature.col] = -1;
  <span class="keyword">this</span>.creatures[id] = -1;
}
</pre></div>erase creature from the matrix 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Number}</em>&nbsp;</td><td>id the id of a creature to be erased from the world </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="World_8js-source.html#l00110">110</a> of file <a class="el" href="World_8js-source.html">World.js</a>.
</div>
</div><p>
<a class="anchor" name="f9c3e7ec357df13783459962704e0ebb"></a><!-- doxytag: member="World.js::tick" ref="f9c3e7ec357df13783459962704e0ebb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#f9c3e7ec357df13783459962704e0ebb">tick</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(){
  
  <span class="keywordflow">for</span>(var i = 0; i &lt; <span class="keyword">this</span>.creatures.length; ++i)
    <span class="keywordflow">if</span>(<span class="keyword">this</span>.creatures[i] != -1)
      <span class="keyword">this</span>.creatures[i].<a class="code" href="Creature_8js.html#d723e2cfc7e50399f6998477e2953859" title="perform the current action">action</a>();
  
}
</pre></div>Oracle's requirement: 'tick' method taking the generated periodic events. 
<p>
<dl compact><dt><b><a class="el" href="test.html#_test000023">Test:</a></b></dt><dd><a href="../../test/World_with_Oracle.html">World with Oracle</a> </dd></dl>

<p>
Definition at line <a class="el" href="World_8js-source.html#l00121">121</a> of file <a class="el" href="World_8js-source.html">World.js</a>.
</div>
</div><p>
<a class="anchor" name="95df163a8f5d1877147fb94735aa15d0"></a><!-- doxytag: member="World.js::add" ref="95df163a8f5d1877147fb94735aa15d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#95df163a8f5d1877147fb94735aa15d0">add</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(creature, row, col){
  
  creature.world = <span class="keyword">this</span>;
  creature.row = row?row:creature.row;
  creature.col = col?col:creature.col;
  
  <span class="keywordflow">if</span>(creature.resize)
    creature.resize(<span class="keyword">this</span>.unit);
  
  creature.body.style.top = (creature.row * <span class="keyword">this</span>.unit) +'px';
  creature.body.style.left = (creature.col * <span class="keyword">this</span>.unit) +'px';
  
  creature.maxTop = <span class="keyword">this</span>.height - creature.height;
  creature.maxLeft = <span class="keyword">this</span>.width - creature.width;
  
  creature.id = <span class="keyword">this</span>.creatures.length;
  <span class="keyword">this</span>.creatures[<span class="keyword">this</span>.creatures.length] = creature;
  
  <span class="keyword">this</span>.core.appendChild(creature.body);
  <span class="keyword">this</span>.matrix[creature.row][creature.col] = creature.id;
  <span class="keywordflow">return</span> creature;
}
</pre></div>add creature into the world 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Creature}</em>&nbsp;</td><td>creature a creature to be added </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>{Number}</em>&nbsp;</td><td>row the row to be inserted on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>{Number}</em>&nbsp;</td><td>col the col to be inserted on </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>{Creature} this creature with updated properties (mostly dimension info) </dd></dl>

<p>
Definition at line <a class="el" href="World_8js-source.html#l00138">138</a> of file <a class="el" href="World_8js-source.html">World.js</a>.
</div>
</div><p>
<a class="anchor" name="44b11db109f0eea6342f7f6a3e146951"></a><!-- doxytag: member="World.js::set" ref="44b11db109f0eea6342f7f6a3e146951" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#44b11db109f0eea6342f7f6a3e146951">set</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(bitmask){
  
  <span class="keywordflow">if</span>(typeof <span class="keyword">this</span>.<a class="code" href="Creature_8js.html#a78e1600fcfc6501bd8966011dd8cafb" title="face the wall">wall</a> == 'undefined')
    <span class="keyword">this</span>.wall = {<span class="keywordtype">id</span>: -2};
  var data = bitmask.split(<span class="charliteral">':'</span>);
  data[1] = data[1].split(<span class="charliteral">','</span>);
  <span class="keywordflow">for</span>(var i = 0; i &lt; data[1].length; ++i)
    <span class="keyword">this</span>.matrix[data[0]][data[1][i]] = <span class="keyword">this</span>.<a class="code" href="Creature_8js.html#a78e1600fcfc6501bd8966011dd8cafb" title="face the wall">wall</a>.id;
}
</pre></div>set the wall 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{String}</em>&nbsp;</td><td>bitmask string with wall data </td></tr>
  </table>
</dl>
<dl compact><dt><b><a class="el" href="test.html#_test000024">Test:</a></b></dt><dd><a href="../../test/World_with_wall.html">World with wall</a> </dd></dl>

<p>
Definition at line <a class="el" href="World_8js-source.html#l00168">168</a> of file <a class="el" href="World_8js-source.html">World.js</a>.
</div>
</div><p>
<a class="anchor" name="5a36aa707c5c1ead6009232691e1d32d"></a><!-- doxytag: member="World.js::background" ref="5a36aa707c5c1ead6009232691e1d32d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#5a36aa707c5c1ead6009232691e1d32d">background</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(bg){
  <span class="keyword">this</span>.body.style.background = bg;
}
</pre></div>set background of the world 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{String}</em>&nbsp;</td><td>bg value for <a class="el" href="World_8js.html#5a36aa707c5c1ead6009232691e1d32d" title="set background of the world">body.style.background</a><br>
color or the URL for the image source </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="World_8js-source.html#l00184">184</a> of file <a class="el" href="World_8js-source.html">World.js</a>.
</div>
</div><p>
<a class="anchor" name="232ff057b66625090b8d415559006176"></a><!-- doxytag: member="World.js::full" ref="232ff057b66625090b8d415559006176" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#232ff057b66625090b8d415559006176">full</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(){var <span class="keyword">self</span> = <span class="keyword">this</span>;
  <span class="keyword">this</span>.cols = Math.floor(W.width / <span class="keyword">this</span>.unit);
  <span class="keyword">this</span>.width = <span class="keyword">this</span>.cols * <span class="keyword">this</span>.unit;
  <span class="keyword">this</span>.core.style.width = <span class="keyword">this</span>.body.style.width = <span class="keyword">this</span>.width +'px';

  <span class="keyword">this</span>.rows = Math.floor(W.height / <span class="keyword">this</span>.unit);
  <span class="keyword">this</span>.height = <span class="keyword">this</span>.rows * <span class="keyword">this</span>.unit;
  <span class="keyword">this</span>.core.style.height = <span class="keyword">this</span>.body.style.height = <span class="keyword">this</span>.height +'px';

  
  <span class="keywordflow">for</span>(var i = 0; i &lt; <span class="keyword">this</span>.creatures.length; ++i){
    var creature = <span class="keyword">this</span>.creatures[i];
    creature.maxTop = <span class="keyword">this</span>.height - <span class="keyword">this</span>.top - creature.height;
    creature.maxLeft = <span class="keyword">this</span>.width - <span class="keyword">this</span>.left  - creature.width;
  }

  
  <span class="keyword">this</span>.buildMatrix(<span class="keyword">this</span>.rows, <span class="keyword">this</span>.cols);
}
</pre></div>expand the .core to fit the .body area 
<p>
<dl compact><dt><b><a class="el" href="test.html#_test000025">Test:</a></b></dt><dd><a href="../../test/World_full.html">stretched to fit to the world.body</a> </dd></dl>

<p>
Definition at line <a class="el" href="World_8js-source.html#l00193">193</a> of file <a class="el" href="World_8js-source.html">World.js</a>.
</div>
</div><p>
<a class="anchor" name="ca0fd1fd4f1728fd0cce5c9214702b59"></a><!-- doxytag: member="World.js::showGrid" ref="ca0fd1fd4f1728fd0cce5c9214702b59" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#ca0fd1fd4f1728fd0cce5c9214702b59">showGrid</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(isOn){
  <span class="keywordflow">if</span>(isOn){
    <span class="keyword">this</span>.core.style.background =  'url('+ W.path +'module/<a class="code" href="darwin_8js.html#4dca93038c710bbeb645043b5e6ef4b5" title="open module namespace">darwin</a>/image/grid_'+ <span class="keyword">this</span>.unit +'.gif)';
  }<span class="keywordflow">else</span> <span class="keyword">this</span>.core.style.background = <span class="stringliteral">""</span>;
}
</pre></div>show grid 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>{Boolean}</em>&nbsp;</td><td>isOn true to turn on the grid display on .core<br>
otherwise, false </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="World_8js-source.html#l00219">219</a> of file <a class="el" href="World_8js-source.html">World.js</a>.
</div>
</div><p>
<a class="anchor" name="0cd79a9d21e93a7b6779611ffc7bd5ee"></a><!-- doxytag: member="World.js::fitToBackground" ref="0cd79a9d21e93a7b6779611ffc7bd5ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">W <a class="el" href="World_8js.html#25ce45b286d5c9e26546c965c1e3e879">World</a> prototype <a class="el" href="World_8js.html#0cd79a9d21e93a7b6779611ffc7bd5ee">fitToBackground</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> function(){var <span class="keyword">self</span> = <span class="keyword">this</span>;
  
  var backPath = W.path + <span class="keyword">this</span>.image;
  var back = <span class="keyword">new</span> Image();
  back.src = backPath;
  
  
  <span class="keywordflow">if</span>(back.width == 0){
    back.onload = function(){
      <span class="keyword">self</span>.body.style.width = <span class="keyword">this</span>.width + 'px';
      <span class="keyword">self</span>.body.style.height = <span class="keyword">this</span>.height + 'px';
    };
  }
  <span class="keyword">this</span>.body.style.width = back.width + 'px';
  <span class="keyword">this</span>.body.style.height = back.height + 'px';
  <span class="keyword">this</span>.body.style.background = 'url('+ backPath +<span class="charliteral">')'</span>;
}
</pre></div>fit the .core to fit to the background image 
<p>
<dl compact><dt><b><a class="el" href="test.html#_test000026">Test:</a></b></dt><dd><a href="../../test/World_with_background.html">World with background image</a> </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000026">Test:</a></b></dt><dd><a href="../../test/World_with_background_32unit.html">World with background image (32px)</a> </dd></dl>

<p>
Definition at line <a class="el" href="World_8js-source.html#l00231">231</a> of file <a class="el" href="World_8js-source.html">World.js</a>.
</div>
</div><p>
<hr size=1>
<a href='http://wednus.com' style="text-decoration:none">
<small><font style="font-size: 11px;" color="gray">
<font style="font-size: 12px;" color="navy"><b>we</b></font>&nbsp;
<font style="font-size: 12px;" color="green"><b>d</b></font>o<font style="font-size: 12px;" color="orange"><b>n</b></font>'t&nbsp;
<font style="font-size: 12px;" color="brown"><b>us</b></font>e toilet paper; we use our bare hands.</font></small>
</a>
